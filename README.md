# DNS Split-DNS Setup with Ansible

Этот проект предназначен для настройки DNS-сервера с использованием Ansible, включая реализацию split-DNS для двух клиентов. Мы добавляем нового клиента `client2`, который будет находиться в зоне `dns.lab`, а также создаем новую зону `newdns.lab`.

## Описание

В проекте используются следующие компоненты:

- **DNS-серверы**:
  - `ns01`: главный сервер (192.168.50.10)
  - `ns02`: вспомогательный сервер (192.168.50.11)

- **Клиенты**:
  - `client1`: клиент (192.168.50.15) - видит обе зоны
  - `client2`: клиент (192.168.50.16) - видит только зону `dns.lab`

## Структура проекта

dns_setup/\
├── playbook.yml\
├── roles/\
│   ├── dns_server/\
│   │   ├── tasks/\
│   │   │   └── main.yml\
│   │   ├── templates/\
│   │   │   ├── named.conf\
│   │   │   ├── db.dns.lab\
│   │   │   └── db.newdns.lab\
│   └── client/\
│       ├── tasks/\
│       │   └── main.yml\
│       └── templates/\
│           └── resolv.conf\


## Установка

1. Клонируйте репозиторий:

    ```bash
    git clone https://github.com/ваш-репозиторий.git
    cd ваш-репозиторий/dns_setup
    ```

2. Убедитесь, что у вас установлен Ansible:

    ```bash
    sudo yum install ansible  # Для CentOS
    sudo apt-get install ansible  # Для Ubuntu
    ```

3. Настройте файл инвентаризации `inventory` для указания IP-адресов ваших серверов.

4. Запустите playbook:

    ```bash
    ansible-playbook -i inventory playbook.yml
    ```

## Конфигурация

- **Зоны DNS**:
  - `dns.lab`: включает записи для `web1` и `web2`.
  - `newdns.lab`: включает запись для `www`, которая указывает на оба клиента.

- **Split-DNS**:
  - `client1` видит обе зоны, но в зоне `dns.lab` только `web1`.
  - `client2` видит только зону `dns.lab`.


# Настройка DNS-клиентов с помощью Ansible

Этот проект предназначен для настройки DNS-клиентов с использованием Ansible. В частности, он включает установку пакета `bind-utils` и настройку конфигурационного файла `resolv.conf`.

## Описание задач

### 1. Установка пакета `bind-utils`

Эта задача отвечает за установку пакета `bind-utils`, который включает в себя утилиты для работы с DNS. Он необходим для выполнения различных операций, связанных с DNS, таких как запросы к DNS-серверу и диагностика проблем.

```yaml
- name: Установка пакета bind-utils
  yum:
    name: bind-utils
    state: present
```

# Настройка DNS-сервера с помощью Ansible

Этот проект предназначен для установки и настройки DNS-сервера на основе BIND с использованием Ansible. Включает в себя установку пакета `bind`, настройку конфигурации и зон, а также управление службой DNS.

## Описание задач

### 1. Установка пакета `bind`

Эта задача отвечает за установку пакета BIND, который является популярным программным обеспечением для DNS-серверов.

```yaml
- name: Установка пакета bind
  yum:
    name: bind
    state: present
```